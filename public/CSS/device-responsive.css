/**
 * Device-Responsive CSS
 * Automatically adjusts styles based on user agent detection
 * Works with user-agent-adjuster.js to prevent UI breaking
 */

/* ===== BASE DEVICE CLASSES ===== */
.device-mobile {
    --modal-max-width: 95vw;
    --modal-max-height: 90vh;
    --modal-margin: 2.5vh auto;
    --content-padding: 1rem;
    --font-size-base: 14px;
    --nav-padding: 0.5rem;
    --grid-columns: 1;
    --grid-gap: 1rem;
}

.device-tablet {
    --modal-max-width: 90vw;
    --modal-max-height: 85vh;
    --modal-margin: 7.5vh auto;
    --content-padding: 1.5rem;
    --font-size-base: 15px;
    --nav-padding: 0.75rem;
    --grid-columns: 2;
    --grid-gap: 1.5rem;
}

.device-desktop {
    --modal-max-width: 80vw;
    --modal-max-height: 80vh;
    --modal-margin: 10vh auto;
    --content-padding: 2rem;
    --font-size-base: 16px;
    --nav-padding: 1rem;
    --grid-columns: 3;
    --grid-gap: 2rem;
}

/* ===== SCREEN SIZE CLASSES ===== */
.screen-small {
    --container-max-width: 100%;
    --text-scale: 0.9;
}

.screen-medium {
    --container-max-width: 90%;
    --text-scale: 1;
}

.screen-large {
    --container-max-width: 80%;
    --text-scale: 1.1;
}

.screen-xlarge {
    --container-max-width: 70%;
    --text-scale: 1.2;
}

/* ===== ORIENTATION CLASSES ===== */
.orientation-portrait {
    --layout-direction: column;
    --flex-direction: column;
}

.orientation-landscape {
    --layout-direction: row;
    --flex-direction: row;
}

/* ===== MODAL ADJUSTMENTS ===== */
.modal-warm,
.modal,
[class*="modal"] {
    max-width: var(--modal-max-width) !important;
    max-height: var(--modal-max-height) !important;
    margin: var(--modal-margin) !important;
    font-size: var(--font-size-base) !important;
}

/* Device-specific modal classes */
.modal-mobile {
    border-radius: 1rem !important;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
}

.modal-tablet {
    border-radius: 1.5rem !important;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04) !important;
}

.modal-desktop {
    border-radius: 2rem !important;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.05) !important;
}

/* ===== NAVIGATION ADJUSTMENTS ===== */
.device-mobile .mobile-menu-container {
    display: block !important;
}

.device-mobile .desktop-nav,
.device-mobile nav:not(.mobile-menu-container) {
    display: none !important;
}

.device-tablet .mobile-menu-container {
    display: block !important;
}

.device-tablet .desktop-nav,
.device-tablet nav:not(.mobile-menu-container) {
    display: none !important;
}

.device-desktop .mobile-menu-container {
    display: none !important;
}

.device-desktop .desktop-nav,
.device-desktop nav:not(.mobile-menu-container) {
    display: block !important;
}

/* ===== PACKING MODAL SPECIFIC ADJUSTMENTS ===== */
#packing-modal {
    font-size: var(--font-size-base) !important;
}

#packing-modal #packing-modal-content {
    padding: var(--content-padding) !important;
}

#packing-modal .sticky.top-0 {
    padding: var(--nav-padding) !important;
}

#packing-modal .packing-categories-grid {
    grid-template-columns: repeat(var(--grid-columns), 1fr) !important;
    gap: var(--grid-gap) !important;
}

/* Navigation pills adjustments */
.device-mobile .nav-pill {
    font-size: 12px !important;
    padding: 0.5rem 0.75rem !important;
}

.device-tablet .nav-pill {
    font-size: 13px !important;
    padding: 0.6rem 0.9rem !important;
}

.device-desktop .nav-pill {
    font-size: 14px !important;
    padding: 0.75rem 1rem !important;
}

/* ===== RESPONSIVE CONTAINERS ===== */
.container {
    max-width: var(--container-max-width) !important;
    margin: 0 auto !important;
}

/* ===== TEXT SCALING ===== */
body {
    font-size: calc(var(--font-size-base) * var(--text-scale)) !important;
}

h1 { font-size: calc(2rem * var(--text-scale)) !important; }
h2 { font-size: calc(1.5rem * var(--text-scale)) !important; }
h3 { font-size: calc(1.25rem * var(--text-scale)) !important; }
h4 { font-size: calc(1.125rem * var(--text-scale)) !important; }
h5 { font-size: calc(1rem * var(--text-scale)) !important; }
h6 { font-size: calc(0.875rem * var(--text-scale)) !important; }

/* ===== BUTTON ADJUSTMENTS ===== */
.device-mobile .btn,
.device-mobile button {
    min-height: 44px !important; /* Touch target size */
    padding: 0.75rem 1rem !important;
}

.device-tablet .btn,
.device-tablet button {
    min-height: 40px !important;
    padding: 0.6rem 0.9rem !important;
}

.device-desktop .btn,
.device-desktop button {
    min-height: 36px !important;
    padding: 0.5rem 0.8rem !important;
}

/* ===== FORM ELEMENTS ===== */
.device-mobile input,
.device-mobile textarea,
.device-mobile select {
    min-height: 44px !important;
    font-size: 16px !important; /* Prevents zoom on iOS */
}

.device-tablet input,
.device-tablet textarea,
.device-tablet select {
    min-height: 40px !important;
    font-size: 15px !important;
}

.device-desktop input,
.device-desktop textarea,
.device-desktop select {
    min-height: 36px !important;
    font-size: 14px !important;
}

/* ===== SPACING ADJUSTMENTS ===== */
.device-mobile .space-y-8 > * + * {
    margin-top: 1.5rem !important;
}

.device-tablet .space-y-8 > * + * {
    margin-top: 1.75rem !important;
}

.device-desktop .space-y-8 > * + * {
    margin-top: 2rem !important;
}

/* ===== GRID ADJUSTMENTS ===== */
.device-mobile .grid {
    grid-template-columns: 1fr !important;
    gap: 1rem !important;
}

.device-tablet .grid-cols-2 {
    grid-template-columns: repeat(2, 1fr) !important;
}

.device-desktop .grid-cols-3 {
    grid-template-columns: repeat(3, 1fr) !important;
}

/* ===== FLEXBOX ADJUSTMENTS ===== */
.device-mobile .flex-wrap {
    flex-wrap: wrap !important;
}

.device-tablet .flex-wrap {
    flex-wrap: wrap !important;
}

.device-desktop .flex-wrap {
    flex-wrap: nowrap !important;
}

/* ===== Z-INDEX MANAGEMENT ===== */
.device-mobile {
    --z-modal: 9999;
    --z-dropdown: 9998;
    --z-sticky: 9997;
    --z-fixed: 9996;
}

.device-tablet {
    --z-modal: 9999;
    --z-dropdown: 9998;
    --z-sticky: 9997;
    --z-fixed: 9996;
}

.device-desktop {
    --z-modal: 9999;
    --z-dropdown: 9998;
    --z-sticky: 9997;
    --z-fixed: 9996;
}

/* ===== LOADING SCREEN ADJUSTMENTS ===== */
#family-loader {
    z-index: var(--z-modal) !important;
}

/* ===== HEADER ADJUSTMENTS ===== */
.device-mobile header {
    padding: 0.5rem 1rem !important;
}

.device-tablet header {
    padding: 0.75rem 1.5rem !important;
}

.device-desktop header {
    padding: 1rem 2rem !important;
}

/* ===== CARD ADJUSTMENTS ===== */
.device-mobile .card {
    padding: 1rem !important;
    margin: 0.5rem !important;
}

.device-tablet .card {
    padding: 1.25rem !important;
    margin: 0.75rem !important;
}

.device-desktop .card {
    padding: 1.5rem !important;
    margin: 1rem !important;
}

/* ===== UTILITY CLASSES ===== */
.device-mobile .hidden-mobile {
    display: none !important;
}

.device-tablet .hidden-tablet {
    display: none !important;
}

.device-desktop .hidden-desktop {
    display: none !important;
}

.device-mobile .show-mobile {
    display: block !important;
}

.device-tablet .show-tablet {
    display: block !important;
}

.device-desktop .show-desktop {
    display: block !important;
}

/* ===== ANIMATION ADJUSTMENTS ===== */
.device-mobile * {
    transition-duration: 0.2s !important;
}

.device-tablet * {
    transition-duration: 0.25s !important;
}

.device-desktop * {
    transition-duration: 0.3s !important;
}

/* ===== SCROLL ADJUSTMENTS ===== */
.device-mobile {
    -webkit-overflow-scrolling: touch !important;
}

.device-mobile .overflow-y-auto {
    -webkit-overflow-scrolling: touch !important;
}

/* ===== SAFE AREA ADJUSTMENTS (iOS) ===== */
@supports (padding: max(0px)) {
    .device-mobile {
        padding-left: max(1rem, env(safe-area-inset-left)) !important;
        padding-right: max(1rem, env(safe-area-inset-right)) !important;
    }
}

/* ===== PRINT ADJUSTMENTS ===== */
@media print {
    .device-mobile,
    .device-tablet,
    .device-desktop {
        --modal-max-width: 100% !important;
        --modal-max-height: 100% !important;
        --modal-margin: 0 !important;
    }
}
